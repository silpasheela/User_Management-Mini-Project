<%- include ('../layouts/header.ejs') %>
<link rel="shortcut icon" href="https://toppng.com/uploads/preview/free-login-icon-png-ico-11563401608uwa0wznx2e.png" type="image/x-icon">

<style>
.container-fluid{
  color: #f8f8f8;
  background-image: url("https://www.lakemichigancollege.edu/sites/default/files/2022-03/cybersecurity_0.png");
  background-size: 100%;
}
</style>

<section style="width: 100%;">
  <div class="container-fluid mt-5">
    <h1 class="row d-flex align-items-center justify-content-center h-100 mt-5 ">
      <br> User Login 
    </h1>
  <div class="row d-flex align-items-center justify-content-center h-100">
      <div class="col-md-7 col-lg-5 col-xl-5 offset-xl-1">
        <form action="/login" method="post" onsubmit="return allChecking()">
          <!-- Email input -->
          <div class="form-outline mb-4">
            <label class="form-label" for="email"><br><br> Email Address</label>
            <input type="email" id="email" name="email" class="form-control form-control-lg" onchange="emailValidate()"/>
            <span id="Email"></span>
          </div>
          <!-- Password input -->
          <div class="form-outline mb-4">
            <label class="form-label" for="password">Password</label>
            <input type="password" id="password" class="form-control form-control-lg" name="password" onchange="passwordValidate()"/>
            <span id="Password"></span>
          </div>
          <div
            class="d-flex justify-content-around align-items-center mb-4">
          </div>
          <!-- Submit button -->
          <button type="submit" class="btn btn-primary btn-lg btn-block rounded-pill align-items-center" value="Login" onclick="emailValidate(),passwordValidate()">
            Log in
          </button>
          <a style="color: bisque; " href="/register"><br>Sign up as new user</a><br>
          <a style="color: bisque; " href ="../admin/login">Log in as admin</a>

          <div class="d-flex align-items-center my-4">
            <% if(typeof message !=='undefined' ){ %>
            <span><%= message %></span>
            <% } %>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  function emailValidate(){
   let emailId=document.getElementById("email").value;
    if(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/.test(emailId)==false){
      document.getElementById("Email").innerHTML="Please enter a valid email addres";
      return false;
    }else{
      document.getElementById("Email").innerHTML="";
      return true;
    }
  }
  function passwordValidate(){
    let password=document.getElementById("password").value;
    if(password.length <8){
      document.getElementById("Password").innerHTML="Please enter a valid password";
      return false

    }else{
      document.getElementById("Password").innerHTML="";
      return true;
    }
  }
  function allChecking(){
    if(emailValidate()&&passwordValidate()){
      return true
    }else{
      return false
    }
  }

</script>

<%- include ('../layouts/footer.ejs') %>
